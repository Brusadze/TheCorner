<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style type="text/css">
        #unitats{
            display: flex;
            justify-content: center;
            gap: 30px;
            width: 50px;
            height: 50px;
            background-color: beige;
            border: 2px solid brown;        
        }
        .unitats p{
            font-size: 15px;
            font-weight: bolder;
        }

        .ponAquiRajolas{
            display: flex;
            gap: 15px;
            background-color: orange;
            width: max-content;
            padding: 20px;
        }

        #viewHabitacion p{
            text-align: center;
        }
        
    </style>
    <title>Activitat 4</title>
</head>
<body>
    <script type="text/javascript">
        var rajolaSide = 20;
        var habitacionAnchura = prompt("Introduce la anchura de Habitacion");
        var habitacionAltura = prompt("Introduce la altura de Habitacion");
       
        var lajoraArea = rajolaSide * rajolaSide;
        var cuantoNececito = 0;

        console.log(lajoraArea);

        var habitacionArea = habitacionAltura * habitacionAnchura;

        if(((habitacionArea / lajoraArea) % 1) != 0){
            console.log((habitacionArea / lajoraArea) % 1);
            document.write("Nececitas " + (((Math.floor(habitacionArea / lajoraArea)))+1) + " unidades");
            cuantoNececito = ((Math.floor(habitacionArea / lajoraArea)))+1;
        }else{
            document.write("Nececitas " + habitacionArea / lajoraArea + " unidades");
            cuantoNececito = habitacionArea / lajoraArea;
        }

        var divsArray = [];

        console.log(cuantoNececito);
        for (var i = 1; i <= cuantoNececito; i++) {
            divsArray[i - 1] = "<div id='unitats' onclick='changeborder(this)'><p> " + i +"</p></div>";
            //document.write("<div id='unitats' onclick='changeborder(this)'><p> " + i +"</p></div>");
            
        }

        console.log(divsArray);

        function changeborder(rajolas){
            console.log("AAAAAAAAAAAAAAAAAAAAA");
            rajolas.style.color = "green";
            rajolas.style.border = "2px solid green";

        //    backToBorders(rajolas);

            viewRajolaFunction();
        }

        /* NOFUNCIONA

        
        function backToBorders(ahoraDiv){
            console.log(divsArray.length + " CUANTOS ELEMENTSO");
            for(var i = 0; i < divsArray.length; i++){
                console.log("BORDER COLOR : " + divsArray[i].style.border.color);
                if(divsArray[i].style.border.color == ahoraDiv.style.border.color){
                    divsArray[i].style.border.color = "white";
                }
            }
        }

        */
       
        function viewRajolaFunction(){
            console.log("RAJOLAAAAA");
            var rajola =  document.getElementById("viewRajola");
            rajola.style.display = "flex";
            rajola.style.width = "150px";
            rajola.style.height = "150px";
            rajola.style.border = "2px solid green";  
            
            //para habitacion

            var habitacion = document.getElementById("viewHabitacion");

            console.log("ANCHURA : " + habitacionAltura + "px")
            
            habitacion.style.maxWidth = "1000px"; 
            habitacion.style.maxHeight = "1000px";

            habitacion.style.width = (habitacionAnchura * 3) + "px"; // por 3 para que sea mejor visible
            habitacion.style.height = (habitacionAltura * 3) + "px";

            habitacion.style.border = "3px solid brown";
            habitacion.style.display = "block";
        }
        
        
    </script>  
    
    <div class="ponAquiRajolas">
        <script type="text/javascript">
            for(var i = 0; i < divsArray.length; i++){
                document.write(divsArray[i]);
            }
        </script>          
    </div>
    <p>Rachola</p>
    <div id="viewRajola" style="margin-top: 50px; margin-left: 50px; display: none;">
        <p style="margin-top: 70px;">Altura 20</p>
        <p>Anchura 20</p>        
    </div>
    <p>HABITACION</p>
    <div id="viewHabitacion" style="margin-top: 50px; margin-left: 50px; display: none;">
        <script type="text/javascript">
            document.write("<p>Aqui cabera " + cuantoNececito + " Unidades</p>")
        </script>
    </div>

</body>
</html>